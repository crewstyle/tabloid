/*! */
/*!
 * tabloyd.js v2.0.0 - "Sogeking no shima deeeeeee - One Piece"
 * ~~~~~~~~~~~~~~~~~~
 *
 * Example of use HTML:
 * <table class="to-responsify">
 *     <tr>
 *         <th>Head #1</th>
 *         <th>Head #2</th>
 *     </tr>
 *     <tr>
 *         <td>Content #1</td>
 *         <td>Content #2</td>
 *     </tr>
 * </table>
 *
 * Example of use JS:
 * $('table').tabloyd({
 *     rowWidth: '35%'
 * });
 *
 * ~~~~~~~~~~~~~~~~~~
 * Copyright 2015 Achraf Chouk <achrafchouk@gmail.com>
 */
!function(a){"use strict";var b=function(b,c){
//vars
var d=this;d.$el=b,d.options=a.extend({},c),
//initialize
d.initialize(),
//bind change event on element
d.$wind.on("load",a.proxy(d.update,d)),d.$wind.on("resize",a.proxy(d.update,d)),d.$wind.on("redraw",function(){d.switched=!1,d.update()}),
//get table slip
d.switched=!1,d.update()};b.prototype.options={},b.prototype.$el=null,b.prototype.$wind=a(window),b.prototype.switched=!1,b.prototype.initialize=function(){var a=this;
//initialize CSS
a.$el.css({borderCollapse:"collapse",width:"100%"})},b.prototype.update=function(){var a=this;return a.switched?(a.switched=!1,void a.unsplitTable(a.$el)):(a.switched=!0,a.splitTable(a.$el),!0)},b.prototype.splitTable=function(a){var b=this;a.wrap('<div class="tabloid-wrapper" />');var c=a.clone();c.find("td:not(:first-child), th:not(:first-child)").css("display","none"),c.removeClass("responsive"),a.closest(".tabloid-wrapper").append(c),c.wrap('<div class="tabloid-pinned" style="width:'+b.options.rowWidth+'" />'),a.wrap('<div class="tabloid-scrollable" style="margin-left:'+b.options.rowWidth+'" />'),b.setCells(a,c)},b.prototype.unsplitTable=function(a){a.closest(".tabloid-wrapper").find(".tabloid-pinned").remove(),a.unwrap()},b.prototype.setCells=function(b,c){var d=b.find("tr"),e=c.find("tr"),f=[];a.each(d,function(b){var c=a(this),d=c.find("th, td");a.each(d,function(){var c=a(this).outerHeight(!0);f[b]=f[b]||0,c>f[b]&&(f[b]=c)})}),a.each(e,function(b){a(this).height(f[b])})};var c={init:function(c){if(!this.length)return!1;var d={rowWidth:"35%"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.tabloyd=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.Tabloyd"):c.init.apply(this,arguments)}}(window.jQuery);